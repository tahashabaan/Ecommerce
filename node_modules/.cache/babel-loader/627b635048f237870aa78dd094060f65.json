{"ast":null,"code":"import _regeneratorRuntime from\"X:/kalBanan/udemy/projects/e_commerce/Ecommerce/src/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"X:/kalBanan/udemy/projects/e_commerce/Ecommerce/src/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"X:/kalBanan/udemy/projects/e_commerce/Ecommerce/src/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{onAuthStateChanged,signOut}from'firebase/auth';import{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import{auth}from'../../firebase/firebase';var useAuth=function useAuth(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var navigate=useNavigate();var userAuthHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(userHandler,email,password,nav){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setError(null);setIsLoading(true);_context.prev=2;_context.next=5;return userHandler(auth,email,password);case 5:navigate(nav);_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](2);setError(_context.t0.message);alert(_context.t0.message);case 12:setIsLoading(false);case 13:case\"end\":return _context.stop();}}},_callee,null,[[2,8]]);}));return function userAuthHandler(_x,_x2,_x3,_x4){return _ref.apply(this,arguments);};}();useEffect(function(){var unsubscrib=onAuthStateChanged(auth,function(user){if(user){setUser(user);}else{setUser(null);}});return unsubscrib;},[]);return{user:user,error:error,isLoading:isLoading,userAuthHandler:userAuthHandler};};export default useAuth;//  const logOut= async() => {\n//   try { \n//         await signOut(auth) \n//         navigate('/login') \n//        }  catch(error)   {   setError(error.message)  }\n//  } \n// const signUp = async(email, password, name) => {\n//       try{ \n//         await createUserWithEmailAndPassword(auth, email, password, name);\n//         navigate('/login')\n//        }   catch(error)  {  \n//         setError(error.meaasge) \n//         alert(error.message)\n//         navigate('/register')    \n//       }\n//   }\n// //   const signIn= async(email, password) => {\n// //     try { \n// //       await signInWithEmailAndPassword(auth, email, password);\n// //       navigate('/')\n// //       // setIsLogin(false);\n// //      }  catch(error) {  \n// //         alert(error.message)   \n// //       // setIsLogin(false);  \n// //     }\n// // }","map":{"version":3,"names":["onAuthStateChanged","signOut","useEffect","useState","useNavigate","auth","useAuth","user","setUser","error","setError","isLoading","setIsLoading","navigate","userAuthHandler","userHandler","email","password","nav","message","alert","unsubscrib"],"sources":["X:/kalBanan/udemy/projects/e_commerce/Ecommerce/src/src/component/hooks/use-auth.js"],"sourcesContent":["import {  onAuthStateChanged, signOut } from 'firebase/auth';\r\nimport { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport {auth} from '../../firebase/firebase';\r\n\r\n \r\n\r\n const useAuth =() => {\r\n\r\n   const [user, setUser] = useState();\r\n   const [error, setError] = useState(null);\r\n   const [isLoading, setIsLoading] = useState(true);\r\n\r\n   const navigate = useNavigate();\r\n\r\n   const userAuthHandler= async (userHandler,email, password,nav )   => {\r\n\r\n      setError(null);\r\n      setIsLoading(true);\r\n\r\n      try { \r\n       await userHandler(auth, email, password );\r\n       navigate(nav)\r\n\r\n    } catch(error) {\r\n        setError(error.message)\r\n        alert(error.message)\r\n       }\r\n       setIsLoading(false);\r\n   }\r\n   \r\n\r\n\r\n\r\n useEffect( () => {\r\n\r\n  const unsubscrib = onAuthStateChanged(auth, (user) => {\r\n\r\n    if (user) { setUser(user);  }\r\n\r\n    else { setUser(null) }\r\n\r\n  })\r\n\r\n  return unsubscrib;\r\n\r\n }, []);\r\n\r\n\r\n  return { \r\n    user, error,isLoading, userAuthHandler }\r\n}\r\n\r\nexport default useAuth;\r\n\r\n//  const logOut= async() => {\r\n\r\n//   try { \r\n\r\n//         await signOut(auth) \r\n//         navigate('/login') \r\n\r\n//        }  catch(error)   {   setError(error.message)  }\r\n\r\n//  } \r\n// const signUp = async(email, password, name) => {\r\n  //       try{ \r\n  //         await createUserWithEmailAndPassword(auth, email, password, name);\r\n  //         navigate('/login')\r\n  \r\n  //        }   catch(error)  {  \r\n  //         setError(error.meaasge) \r\n  //         alert(error.message)\r\n  //         navigate('/register')    \r\n  //       }\r\n  //   }\r\n  \r\n  // //   const signIn= async(email, password) => {\r\n  \r\n  // //     try { \r\n  \r\n  // //       await signInWithEmailAndPassword(auth, email, password);\r\n  // //       navigate('/')\r\n  // //       // setIsLogin(false);\r\n  \r\n  // //      }  catch(error) {  \r\n  // //         alert(error.message)   \r\n  // //       // setIsLogin(false);  \r\n  // //     }\r\n  \r\n  // // }\r\n"],"mappings":"2aAAA,OAAUA,kBAAV,CAA8BC,OAA9B,KAA6C,eAA7C,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAAQC,IAAR,KAAmB,yBAAnB,CAIC,GAAMC,QAAO,CAAE,QAATA,QAAS,EAAM,CAEnB,cAAwBH,QAAQ,EAAhC,wCAAOI,IAAP,eAAaC,OAAb,eACA,eAA0BL,QAAQ,CAAC,IAAD,CAAlC,yCAAOM,KAAP,eAAcC,QAAd,eACA,eAAkCP,QAAQ,CAAC,IAAD,CAA1C,yCAAOQ,SAAP,eAAkBC,YAAlB,eAEA,GAAMC,SAAQ,CAAGT,WAAW,EAA5B,CAEA,GAAMU,gBAAe,4FAAE,iBAAOC,WAAP,CAAmBC,KAAnB,CAA0BC,QAA1B,CAAmCC,GAAnC,oHAEpBR,QAAQ,CAAC,IAAD,CAAR,CACAE,YAAY,CAAC,IAAD,CAAZ,CAHoB,sCAMbG,YAAW,CAACV,IAAD,CAAOW,KAAP,CAAcC,QAAd,CANE,QAOnBJ,QAAQ,CAACK,GAAD,CAAR,CAPmB,+EAUlBR,QAAQ,CAAC,YAAMS,OAAP,CAAR,CACAC,KAAK,CAAC,YAAMD,OAAP,CAAL,CAXkB,QAanBP,YAAY,CAAC,KAAD,CAAZ,CAbmB,oEAAF,kBAAfE,gBAAe,wDAArB,CAmBFZ,SAAS,CAAE,UAAM,CAEhB,GAAMmB,WAAU,CAAGrB,kBAAkB,CAACK,IAAD,CAAO,SAACE,IAAD,CAAU,CAEpD,GAAIA,IAAJ,CAAU,CAAEC,OAAO,CAACD,IAAD,CAAP,CAAiB,CAA7B,IAEK,CAAEC,OAAO,CAAC,IAAD,CAAP,CAAe,CAEvB,CANoC,CAArC,CAQA,MAAOa,WAAP,CAEA,CAZQ,CAYN,EAZM,CAAT,CAeC,MAAO,CACLd,IAAI,CAAJA,IADK,CACCE,KAAK,CAALA,KADD,CACOE,SAAS,CAATA,SADP,CACkBG,eAAe,CAAfA,eADlB,CAAP,CAED,CA5CA,CA8CD,cAAeR,QAAf,CAEA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACE;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA"},"metadata":{},"sourceType":"module"}