{"ast":null,"code":"import _regeneratorRuntime from\"X:/kalBanan/udemy/react-max/section-11  project__order-food/ORDER__FOOD__PROJECT/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"X:/kalBanan/udemy/react-max/section-11  project__order-food/ORDER__FOOD__PROJECT/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"X:/kalBanan/udemy/react-max/section-11  project__order-food/ORDER__FOOD__PROJECT/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import Card from'../../UI/Card/Card';import MealsItem from'../MealsItem/MealsItem';import classes from'./MealsList.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MealsList=function MealsList(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),meals=_useState2[0],setMeals=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var fetchMeals=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data,loadingMeals,key;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setError(null);setIsLoading(true);_context.next=5;return fetch('https://react-http-399a8-default-rtdb.firebaseio.com/meals.json');case 5:response=_context.sent;if(response.ok){_context.next=8;break;}throw new Error('something went wrong!');case 8:_context.next=10;return response.json();case 10:data=_context.sent;loadingMeals=[];for(key in data){loadingMeals.push({id:key,name:data[key].name,description:data[key].description,price:data[key].price});}setMeals(loadingMeals);_context.next=19;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](0);setError(_context.t0.massage);case 19:setIsLoading(false);case 20:case\"end\":return _context.stop();}}},_callee,null,[[0,16]]);}));return function fetchMeals(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchMeals();},[]);console.log(error);var content=/*#__PURE__*/_jsx(\"p\",{children:\"found no meals\"});// let content;\nvar DUMY_MEALS=[{id:'m1',name:'sidh',description:'tterddf',price:123.3}];if(meals.length>0){content=meals.map(function(meal){return/*#__PURE__*/_jsx(MealsItem,{id:meal.id,name:meal.name,description:meal.description,price:meal.price},meal.id);});}if(isLoading){content=/*#__PURE__*/_jsx(\"p\",{children:\"loading...\"});}if(error){content=/*#__PURE__*/_jsxs(\"p\",{children:[\" \",error,\" \"]});}console.log(meals);return/*#__PURE__*/_jsx(Card,{className:classes.list,children:/*#__PURE__*/_jsx(\"ul\",{children:content})});};export default MealsList;","map":{"version":3,"names":["React","useEffect","useState","Card","MealsItem","classes","MealsList","props","meals","setMeals","isLoading","setIsLoading","error","setError","fetchMeals","fetch","response","ok","Error","json","data","loadingMeals","key","push","id","name","description","price","massage","console","log","content","DUMY_MEALS","length","map","meal","list"],"sources":["X:/kalBanan/udemy/react-max/section-11  project__order-food/ORDER__FOOD__PROJECT/src/component/Meals/MealsList/MealsList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport Card from '../../UI/Card/Card'\r\nimport MealsItem from '../MealsItem/MealsItem'\r\nimport classes from './MealsList.module.css'\r\n\r\nconst MealsList = (props) => {\r\n  const [meals, setMeals] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [error, setError] = useState(null)\r\n\r\n  const fetchMeals = async () => {\r\n   \r\n    try{\r\n     setError(null)\r\n     setIsLoading(true)\r\n     const response = await fetch('https://react-http-399a8-default-rtdb.firebaseio.com/meals.json');\r\n\r\n     if (!response.ok) {\r\n      throw new Error('something went wrong!')\r\n      // setError('somthing wrong')\r\n    }\r\n     const data = await response.json();\r\n\r\n     const loadingMeals = [];\r\n\r\n     for (const key in data) {\r\n        loadingMeals.push({\r\n          id: key,\r\n          name: data[key].name,\r\n          description: data[key].description,\r\n          price: data[key].price\r\n      })\r\n\r\n    }\r\n    setMeals(loadingMeals);\r\n  } catch(error){\r\n      setError(error.massage)\r\n    }\r\n    setIsLoading(false)\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchMeals();\r\n  },[])\r\n  console.log(error)\r\n\r\n\r\n  let content = <p>found no meals</p>\r\n  // let content;\r\n  const DUMY_MEALS = [{\r\n    id:'m1',\r\n    name:'sidh',\r\n    description:'tterddf',\r\n    price:123.3\r\n  }]\r\n\r\n  if (meals.length > 0) {\r\n    content = meals.map((meal) => <MealsItem\r\n    key={meal.id}\r\n    id={meal.id}\r\n    name={meal.name}\r\n    description={meal.description}\r\n    price={meal.price} \r\n   />)\r\n  }\r\n\r\n\r\n  if(isLoading){\r\n    content = <p>loading...</p>\r\n  }\r\n\r\n  if( error){\r\n    content = <p> {error} </p>\r\n  }\r\n\r\n  console.log(meals)\r\n  return (\r\n    <Card className={classes.list}>\r\n      <ul>\r\n        {content}\r\n      </ul>\r\n    </Card>\r\n    \r\n  )\r\n}\r\n\r\nexport default MealsList"],"mappings":"kgBAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,KAAP,KAAiB,oBAAjB,CACA,MAAOC,UAAP,KAAsB,wBAAtB,CACA,MAAOC,QAAP,KAAoB,wBAApB,C,wFAEA,GAAMC,UAAS,CAAG,QAAZA,UAAY,CAACC,KAAD,CAAW,CAC3B,cAA0BL,QAAQ,CAAC,EAAD,CAAlC,wCAAOM,KAAP,eAAcC,QAAd,eACA,eAAkCP,QAAQ,CAAC,KAAD,CAA1C,yCAAOQ,SAAP,eAAkBC,YAAlB,eACA,eAA0BT,QAAQ,CAAC,IAAD,CAAlC,yCAAOU,KAAP,eAAcC,QAAd,eAEA,GAAMC,WAAU,4FAAG,wLAGhBD,QAAQ,CAAC,IAAD,CAAR,CACAF,YAAY,CAAC,IAAD,CAAZ,CAJgB,sBAKOI,MAAK,CAAC,iEAAD,CALZ,QAKVC,QALU,kBAOXA,QAAQ,CAACC,EAPE,8BAQT,IAAIC,MAAJ,CAAU,uBAAV,CARS,+BAWGF,SAAQ,CAACG,IAAT,EAXH,SAWVC,IAXU,eAaVC,YAbU,CAaK,EAbL,CAehB,IAAWC,GAAX,GAAkBF,KAAlB,CAAwB,CACrBC,YAAY,CAACE,IAAb,CAAkB,CAChBC,EAAE,CAAEF,GADY,CAEhBG,IAAI,CAAEL,IAAI,CAACE,GAAD,CAAJ,CAAUG,IAFA,CAGhBC,WAAW,CAAEN,IAAI,CAACE,GAAD,CAAJ,CAAUI,WAHP,CAIhBC,KAAK,CAAEP,IAAI,CAACE,GAAD,CAAJ,CAAUK,KAJD,CAAlB,EAOH,CACDlB,QAAQ,CAACY,YAAD,CAAR,CAxBiB,iFA0BfR,QAAQ,CAAC,YAAMe,OAAP,CAAR,CA1Be,QA4BjBjB,YAAY,CAAC,KAAD,CAAZ,CA5BiB,qEAAH,kBAAVG,WAAU,0CAAhB,CA+BAb,SAAS,CAAC,UAAM,CACda,UAAU,GACX,CAFQ,CAEP,EAFO,CAAT,CAGAe,OAAO,CAACC,GAAR,CAAYlB,KAAZ,EAGA,GAAImB,QAAO,cAAG,qCAAd,CACA;AACA,GAAMC,WAAU,CAAG,CAAC,CAClBR,EAAE,CAAC,IADe,CAElBC,IAAI,CAAC,MAFa,CAGlBC,WAAW,CAAC,SAHM,CAIlBC,KAAK,CAAC,KAJY,CAAD,CAAnB,CAOA,GAAInB,KAAK,CAACyB,MAAN,CAAe,CAAnB,CAAsB,CACpBF,OAAO,CAAGvB,KAAK,CAAC0B,GAAN,CAAU,SAACC,IAAD,qBAAU,KAAC,SAAD,EAE9B,EAAE,CAAEA,IAAI,CAACX,EAFqB,CAG9B,IAAI,CAAEW,IAAI,CAACV,IAHmB,CAI9B,WAAW,CAAEU,IAAI,CAACT,WAJY,CAK9B,KAAK,CAAES,IAAI,CAACR,KALkB,EACzBQ,IAAI,CAACX,EADoB,CAAV,EAAV,CAAV,CAOD,CAGD,GAAGd,SAAH,CAAa,CACXqB,OAAO,cAAG,iCAAV,CACD,CAED,GAAInB,KAAJ,CAAU,CACRmB,OAAO,cAAG,yBAAKnB,KAAL,OAAV,CACD,CAEDiB,OAAO,CAACC,GAAR,CAAYtB,KAAZ,EACA,mBACE,KAAC,IAAD,EAAM,SAAS,CAAEH,OAAO,CAAC+B,IAAzB,uBACE,oBACGL,OADH,EADF,EADF,CAQD,CA/ED,CAiFA,cAAezB,UAAf"},"metadata":{},"sourceType":"module"}