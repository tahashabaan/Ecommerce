{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useCallback, useEffect, useState } from 'react';\n\nconst useCart = req => {\n  _s();\n\n  const [items, setItems] = useState({\n    products: [],\n    total: 0,\n    skip: 1,\n    limit: 0\n  });\n  const [loading, setLoading] = useState(true); // جاري التحميل\n\n  const [error, setError] = useState(false); // useCallback()\n\n  const reqData = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    const response = await fetch(req.url, {\n      method: req.method ? req.method : 'GET',\n      body: req.body ? JSON.stringify(req.body) : null,\n      headers: req.headers ? req.headers : {}\n    });\n\n    if (!response.ok) {\n      setError(true);\n    }\n\n    const data = await response.json();\n    setItems(data);\n    setLoading(true);\n    setLoading(false); // loaded\n  }, []);\n  return {\n    reqData,\n    items,\n    loading,\n    error\n  };\n};\n\n_s(useCart, \"9SkPVC1gZFhweb6aqj0mqcXvUpU=\");\n\nexport default useCart;","map":{"version":3,"names":["React","useCallback","useEffect","useState","useCart","req","items","setItems","products","total","skip","limit","loading","setLoading","error","setError","reqData","response","fetch","url","method","body","JSON","stringify","headers","ok","data","json"],"sources":["X:/kalBanan/udemy/projects/e_commerce/Ecommerce/src/component/hooks/use-cart.js"],"sourcesContent":["import React, { useCallback, useEffect, useState } from 'react'\r\n\r\n\r\n const useCart = (req) => {\r\n\r\n  const [items, setItems] = useState({\r\n    products:[],\r\n    total:0,\r\n    skip:1,\r\n    limit:0,\r\n  });\r\n\r\n  const [loading, setLoading] = useState(true); // جاري التحميل\r\n  const [error, setError] = useState(false);\r\n     \r\n\r\n  // useCallback()\r\n\r\n  const reqData =  useCallback( async () => {\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n      const response = await fetch(req.url, {\r\n        method:req.method? req.method: 'GET',\r\n        body:req.body? JSON.stringify(req.body):null,\r\n        headers:req.headers? req.headers: {}\r\n      })\r\n\r\n      if (!response.ok) { setError(true) }\r\n\r\n     const data = await response.json();\r\n      setItems(data);\r\n      setLoading(true);\r\n    \r\n\r\n    setLoading(false); // loaded\r\n\r\n  }, [])\r\n \r\n   return {reqData,  items, loading, error }\r\n}\r\n\r\nexport default useCart;\r\n"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,WAAhB,EAA6BC,SAA7B,EAAwCC,QAAxC,QAAwD,OAAxD;;AAGC,MAAMC,OAAO,GAAIC,GAAD,IAAS;EAAA;;EAExB,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBJ,QAAQ,CAAC;IACjCK,QAAQ,EAAC,EADwB;IAEjCC,KAAK,EAAC,CAF2B;IAGjCC,IAAI,EAAC,CAH4B;IAIjCC,KAAK,EAAC;EAJ2B,CAAD,CAAlC;EAOA,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAC,IAAD,CAAtC,CATwB,CASsB;;EAC9C,MAAM,CAACW,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAAC,KAAD,CAAlC,CAVwB,CAaxB;;EAEA,MAAMa,OAAO,GAAIf,WAAW,CAAE,YAAY;IAExCY,UAAU,CAAC,IAAD,CAAV;IACAE,QAAQ,CAAC,IAAD,CAAR;IAEE,MAAME,QAAQ,GAAG,MAAMC,KAAK,CAACb,GAAG,CAACc,GAAL,EAAU;MACpCC,MAAM,EAACf,GAAG,CAACe,MAAJ,GAAYf,GAAG,CAACe,MAAhB,GAAwB,KADK;MAEpCC,IAAI,EAAChB,GAAG,CAACgB,IAAJ,GAAUC,IAAI,CAACC,SAAL,CAAelB,GAAG,CAACgB,IAAnB,CAAV,GAAmC,IAFJ;MAGpCG,OAAO,EAACnB,GAAG,CAACmB,OAAJ,GAAanB,GAAG,CAACmB,OAAjB,GAA0B;IAHE,CAAV,CAA5B;;IAMA,IAAI,CAACP,QAAQ,CAACQ,EAAd,EAAkB;MAAEV,QAAQ,CAAC,IAAD,CAAR;IAAgB;;IAErC,MAAMW,IAAI,GAAG,MAAMT,QAAQ,CAACU,IAAT,EAAnB;IACCpB,QAAQ,CAACmB,IAAD,CAAR;IACAb,UAAU,CAAC,IAAD,CAAV;IAGFA,UAAU,CAAC,KAAD,CAAV,CAlBwC,CAkBrB;EAEpB,CApB2B,EAoBzB,EApByB,CAA5B;EAsBC,OAAO;IAACG,OAAD;IAAWV,KAAX;IAAkBM,OAAlB;IAA2BE;EAA3B,CAAP;AACF,CAtCA;;GAAMV,O;;AAwCP,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}