{"ast":null,"code":"import _regeneratorRuntime from\"X:/kalBanan/udemy/projects/e_commerce/Ecommerce/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"X:/kalBanan/udemy/projects/e_commerce/Ecommerce/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"X:/kalBanan/udemy/projects/e_commerce/Ecommerce/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useCallback,useEffect,useState}from'react';var useCart=function useCart(req){var _useState=useState({products:[],total:0,skip:1,limit:0}),_useState2=_slicedToArray(_useState,2),items=_useState2[0],setItems=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];// جاري التحميل\nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];// useCallback()\nvar reqData=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);setError(null);_context.prev=2;_context.next=5;return fetch(req.url,{method:req.method?req.method:'GET',body:req.body?JSON.stringify(req.body):null,headers:req.headers?req.headers:{}});case 5:response=_context.sent;if(response.ok){_context.next=8;break;}throw new Error('somthing went wrong!');case 8:_context.next=10;return response.json();case 10:data=_context.sent;setItems(data);_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](2);setError(true);case 17:setLoading(false);case 18:case\"end\":return _context.stop();}}},_callee,null,[[2,14]]);})),[]);// const url = `https://dummyjson.com/products`;\n//  useEffect(() => {\n//   reqData();\n// },[]);\nreturn{reqData:reqData,items:items,loading:loading,error:error};};export default useCart;","map":{"version":3,"names":["React","useCallback","useEffect","useState","useCart","req","products","total","skip","limit","items","setItems","loading","setLoading","error","setError","reqData","fetch","url","method","body","JSON","stringify","headers","response","ok","Error","json","data"],"sources":["X:/kalBanan/udemy/projects/e_commerce/Ecommerce/src/component/hooks/use-cart.js"],"sourcesContent":[" import React, { useCallback, useEffect, useState } from 'react'\r\n\r\n const useCart = (req) => {\r\n\r\n  const [items, setItems] = useState({\r\n    products:[],\r\n    total:0,\r\n    skip:1,\r\n    limit:0 });\r\n  const [loading, setLoading] = useState(true); // جاري التحميل\r\n  const [error, setError] = useState(false);\r\n     \r\n\r\n  // useCallback()\r\n\r\n  const reqData =  useCallback( async () => {\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n     try { \r\n      const response = await fetch(req.url, {\r\n        method:req.method? req.method: 'GET',\r\n        body:req.body? JSON.stringify(req.body):null,\r\n        headers:req.headers? req.headers: {} })\r\n\r\n        if (!response.ok) {  \r\n          throw new Error('somthing went wrong!'); }  \r\n          \r\n        const data = await response.json();\r\n        setItems(data);\r\n\r\n       } catch(error) {  setError(true) }\r\n\r\n      setLoading(false)\r\n  }, [])\r\n\r\n  // const url = `https://dummyjson.com/products`;\r\n\r\n  //  useEffect(() => {\r\n  //   reqData();\r\n  // },[]);\r\n \r\n   return {reqData,  items, loading, error }\r\n}\r\n\r\nexport default useCart;\r\n"],"mappings":"+ZAAC,MAAOA,MAAP,EAAgBC,WAAhB,CAA6BC,SAA7B,CAAwCC,QAAxC,KAAwD,OAAxD,CAEA,GAAMC,QAAO,CAAG,QAAVA,QAAU,CAACC,GAAD,CAAS,CAExB,cAA0BF,QAAQ,CAAC,CACjCG,QAAQ,CAAC,EADwB,CAEjCC,KAAK,CAAC,CAF2B,CAGjCC,IAAI,CAAC,CAH4B,CAIjCC,KAAK,CAAC,CAJ2B,CAAD,CAAlC,wCAAOC,KAAP,eAAcC,QAAd,eAKA,eAA8BR,QAAQ,CAAC,IAAD,CAAtC,yCAAOS,OAAP,eAAgBC,UAAhB,eAA8C;AAC9C,eAA0BV,QAAQ,CAAC,KAAD,CAAlC,yCAAOW,KAAP,eAAcC,QAAd,eAGA;AAEA,GAAMC,QAAO,CAAIf,WAAW,wEAAE,uJAE5BY,UAAU,CAAC,IAAD,CAAV,CACAE,QAAQ,CAAC,IAAD,CAAR,CAH4B,sCAMHE,MAAK,CAACZ,GAAG,CAACa,GAAL,CAAU,CACpCC,MAAM,CAACd,GAAG,CAACc,MAAJ,CAAYd,GAAG,CAACc,MAAhB,CAAwB,KADK,CAEpCC,IAAI,CAACf,GAAG,CAACe,IAAJ,CAAUC,IAAI,CAACC,SAAL,CAAejB,GAAG,CAACe,IAAnB,CAAV,CAAmC,IAFJ,CAGpCG,OAAO,CAAClB,GAAG,CAACkB,OAAJ,CAAalB,GAAG,CAACkB,OAAjB,CAA0B,EAHE,CAAV,CANF,QAMpBC,QANoB,kBAWnBA,QAAQ,CAACC,EAXU,8BAYhB,IAAIC,MAAJ,CAAU,sBAAV,CAZgB,+BAcLF,SAAQ,CAACG,IAAT,EAdK,SAclBC,IAdkB,eAexBjB,QAAQ,CAACiB,IAAD,CAAR,CAfwB,iFAiBPb,QAAQ,CAAC,IAAD,CAAR,CAjBO,QAmB1BF,UAAU,CAAC,KAAD,CAAV,CAnB0B,qEAAF,GAoBzB,EApByB,CAA5B,CAsBA;AAEA;AACA;AACA;AAEC,MAAO,CAACG,OAAO,CAAPA,OAAD,CAAWN,KAAK,CAALA,KAAX,CAAkBE,OAAO,CAAPA,OAAlB,CAA2BE,KAAK,CAALA,KAA3B,CAAP,CACF,CA1CA,CA4CD,cAAeV,QAAf"},"metadata":{},"sourceType":"module"}