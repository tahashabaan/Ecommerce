{"ast":null,"code":"import _objectSpread from\"X:/kalBanan/udemy/projects/e_commerce/Ecommerce/src/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useRef,useContext}from'react';import{useNavigate}from'react-router-dom';import CartContext from'../../../store/cart-context';import useAuth from'../../hooks/use-auth';import classes from'./ProductItemForm.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductItemForm=function ProductItemForm(props){var navigate=useNavigate();var product=props.product;var selectRef=useRef(1);var _useContext=useContext(CartContext),onAddProduct=_useContext.onAddProduct;var _useAuth=useAuth(),user=_useAuth.user;var addToCartHandler=function addToCartHandler(){var quantity=+selectRef.current.value;var data=_objectSpread(_objectSpread({},product),{},{quantity:quantity});onAddProduct(data);};var onSubmitHandler=function onSubmitHandler(e){e.preventDefault();if(user){addToCartHandler();}else{navigate('/login');}};var options=[];for(var i=1;i<product.stock;i++){options[i]=[i];}return/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmitHandler,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.controls,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"select\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"select\",{id:\"select\",ref:selectRef,defaultValue:product.quantity,children:options.map(function(option,index){return/*#__PURE__*/_jsx(\"option\",{value:option,children:option},index);})})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.actions,children:/*#__PURE__*/_jsx(\"button\",{children:\"Add to Cart\"})})]});};export default ProductItemForm;","map":{"version":3,"names":["React","useRef","useContext","useNavigate","CartContext","useAuth","classes","ProductItemForm","props","navigate","product","selectRef","onAddProduct","user","addToCartHandler","quantity","current","value","data","onSubmitHandler","e","preventDefault","options","i","stock","controls","map","option","index","actions"],"sources":["X:/kalBanan/udemy/projects/e_commerce/Ecommerce/src/src/component/Home/Products/ProductItemForm.js"],"sourcesContent":["import React, { useRef, useContext } from 'react'\r\nimport { useNavigate } from 'react-router-dom';\r\nimport CartContext from '../../../store/cart-context';\r\nimport useAuth from '../../hooks/use-auth';\r\nimport classes from './ProductItemForm.module.css';\r\n\r\nconst ProductItemForm = (props) => {\r\n\r\n  const navigate = useNavigate()\r\n\r\n  const {product} = props;\r\n  const selectRef = useRef(1);\r\n  const {onAddProduct} = useContext(CartContext);\r\n  const {user} = useAuth()\r\n\r\n  const addToCartHandler = () => {\r\n\r\n\r\n    const quantity = +(selectRef.current.value);\r\n      const data = {\r\n       ...product,\r\n       quantity\r\n      }\r\n\r\n      onAddProduct(data);\r\n }\r\n  \r\n\r\n  const onSubmitHandler = (e) => {\r\n\r\n\r\n    e.preventDefault();\r\n\r\n    if (user) {  addToCartHandler();    }\r\n     else {  navigate('/login');  }\r\n\r\n  }\r\n\r\n  let options=[];\r\n  for (let i=1; i<product.stock; i++)  options[i] = [i];\r\n        \r\n\r\n\r\n \r\n\r\n \r\n\r\n  return (\r\n\r\n    <form onSubmit={onSubmitHandler}>\r\n     <div className={classes.controls}>\r\n     \r\n       <label htmlFor='select'>Quantity</label>\r\n        <select id='select' ref={selectRef}  \r\n         defaultValue={product.quantity}>\r\n\r\n          {options.map((option, index) => <option key={index}   value={option}>{option}</option>)}\r\n\r\n       </select>\r\n\r\n     </div>\r\n\r\n     <div className={classes.actions}>\r\n       <button>Add to Cart</button>\r\n     </div>\r\n     \r\n    </form>\r\n  )\r\n}\r\n\r\nexport default ProductItemForm;\r\n\r\n"],"mappings":"wIAAA,MAAOA,MAAP,EAAgBC,MAAhB,CAAwBC,UAAxB,KAA0C,OAA1C,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,MAAOC,YAAP,KAAwB,6BAAxB,CACA,MAAOC,QAAP,KAAoB,sBAApB,CACA,MAAOC,QAAP,KAAoB,8BAApB,C,wFAEA,GAAMC,gBAAe,CAAG,QAAlBA,gBAAkB,CAACC,KAAD,CAAW,CAEjC,GAAMC,SAAQ,CAAGN,WAAW,EAA5B,CAEA,GAAOO,QAAP,CAAkBF,KAAlB,CAAOE,OAAP,CACA,GAAMC,UAAS,CAAGV,MAAM,CAAC,CAAD,CAAxB,CACA,gBAAuBC,UAAU,CAACE,WAAD,CAAjC,CAAOQ,YAAP,aAAOA,YAAP,CACA,aAAeP,OAAO,EAAtB,CAAOQ,IAAP,UAAOA,IAAP,CAEA,GAAMC,iBAAgB,CAAG,QAAnBA,iBAAmB,EAAM,CAG7B,GAAMC,SAAQ,CAAG,CAAEJ,SAAS,CAACK,OAAV,CAAkBC,KAArC,CACE,GAAMC,KAAI,gCACNR,OADM,MAETK,QAAQ,CAARA,QAFS,EAAV,CAKAH,YAAY,CAACM,IAAD,CAAZ,CACJ,CAVA,CAaA,GAAMC,gBAAe,CAAG,QAAlBA,gBAAkB,CAACC,CAAD,CAAO,CAG7BA,CAAC,CAACC,cAAF,GAEA,GAAIR,IAAJ,CAAU,CAAGC,gBAAgB,GAAQ,CAArC,IACM,CAAGL,QAAQ,CAAC,QAAD,CAAR,CAAsB,CAEhC,CARD,CAUA,GAAIa,QAAO,CAAC,EAAZ,CACA,IAAK,GAAIC,EAAC,CAAC,CAAX,CAAcA,CAAC,CAACb,OAAO,CAACc,KAAxB,CAA+BD,CAAC,EAAhC,EAAqCD,OAAO,CAACC,CAAD,CAAP,CAAa,CAACA,CAAD,CAAb,CAArC,CAQA,mBAEE,cAAM,QAAQ,CAAEJ,eAAhB,wBACC,aAAK,SAAS,CAAEb,OAAO,CAACmB,QAAxB,wBAEE,cAAO,OAAO,CAAC,QAAf,sBAFF,cAGG,eAAQ,EAAE,CAAC,QAAX,CAAoB,GAAG,CAAEd,SAAzB,CACC,YAAY,CAAED,OAAO,CAACK,QADvB,UAGGO,OAAO,CAACI,GAAR,CAAY,SAACC,MAAD,CAASC,KAAT,qBAAmB,eAAsB,KAAK,CAAED,MAA7B,UAAsCA,MAAtC,EAAaC,KAAb,CAAnB,EAAZ,CAHH,EAHH,GADD,cAaC,YAAK,SAAS,CAAEtB,OAAO,CAACuB,OAAxB,uBACE,uCADF,EAbD,GAFF,CAqBD,CA9DD,CAgEA,cAAetB,gBAAf"},"metadata":{},"sourceType":"module"}